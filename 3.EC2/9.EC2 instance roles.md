# EC2 Instance configured with IAM Roles

- Amazon Linux which is running inside EC2 instance has AWS CLI preinstalled, So you can run all AWS Commands. ex: aws --version, aws configure, aws iam list-users

  ![image](https://github.com/user-attachments/assets/a79c1cc5-1c88-4c1e-9254-2753e6c7301d)

  ![image](https://github.com/user-attachments/assets/00e1fcb9-274a-46bb-a97e-b5e723b61c3c)

- Access should not be configured through aws configure command, as it will cause a security issue. Some other user can connect to the same instance through EC2 instance connect and run the same command and retrive the access and secret keys, and use them illegally.

  ![image](https://github.com/user-attachments/assets/295b6e89-3056-48c3-acf4-0fe527ee8700)

- Instead of AWS configure command, we can use AWS IAM roles. 
- IAM Roles are assigned to a User/IAM user like wise, we can assign/add an IAM role to an EC2 Instance.
- Permission policies are available in AWS IAM permissions, and Roles can be created and assigned with any number of permission policies.

  ![image](https://github.com/user-attachments/assets/15f8808e-4072-4cf0-aeb0-3aaea0053c4e)

- IAM Roles are attached with permission policies that give access to AWS services and settings. ex: IAMUserList -> to view the list of IAM Users.

  ![image](https://github.com/user-attachments/assets/d0f3d5cb-8787-40d4-92aa-911d07a9f359)
  
- IAM Roles can also be connected to an EC2 instance based on the use case/requirements of the EC2 instance. ex: EC2 instance that needs to read a list of IAM Users can be assigned the role "IAMReadUsers", which has the permission policy   "IAMReadAccess".

  ![image](https://github.com/user-attachments/assets/31fb13f2-f752-41a3-ab34-1666b2b75bd8)

  ![image](https://github.com/user-attachments/assets/b0af5a00-86cc-43d7-8a2f-5a67690908f1)

  ![image](https://github.com/user-attachments/assets/ee7c7b65-2aee-4e9d-954f-8b1564afe3d7)


  

